"use strict";var Lightbox=function(){function Lightbox(lightboxId,playerClass){var _this=this,players;if((lightboxId===void 0&&(lightboxId="lightbox"),playerClass===void 0&&(playerClass="lightbox-player"),this.isOpen=!1,this.elem=document.getElementById(lightboxId),players=[].slice.call(document.getElementsByClassName(playerClass)).map(function(x){return new LightboxPlayer(_this,x)}),this.body=document.querySelector("body"),this.bgVideo=document.querySelector(".video-bg"),!this.elem)||(this.iframe=this.elem.querySelector("iframe"),!this.iframe))return null;this.elem.addEventListener("click",function(){_this.close()});document.addEventListener("keyup",function(e){return _this.handleEsc(e)})}return Lightbox.prototype.open=function(youtubeId){this.isOpen=!0;this.elem.classList.contains("open")||(this.bgVideo.currentTime>0&&!this.bgVideo.paused&&!this.bgVideo.ended&&this.bgVideo.readyState>2&&(this.restartVideo=!0),this.elem.classList.add("open"),this.iframe.src="https://www.youtube-nocookie.com/embed/"+youtubeId+"?rel=0&amp;controls=1&amp;showinfo=0&amp;autoplay=1",this.body.style.overflow="hidden",this.bgVideo.pause())},Lightbox.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.elem.classList.remove("open"),this.iframe.src="",this.body.style.overflow="",this.restartVideo&&this.bgVideo.play())},Lightbox.prototype.handleEsc=function(e){e.keyCode===27&&this.close()},Lightbox}(),LightboxPlayer=function(){function LightboxPlayer(lightbox,elem){var _this=this;if(lightbox==null)throw new Error("lightbox null");if(elem==null)throw new Error("elem null");this.elem=elem;this.lightbox=lightbox;this.elem.addEventListener("click",function(e){return _this.play(e)})}return LightboxPlayer.prototype.getYoutubeId=function(){return this.elem.href.split("https://www.youtube.com/watch?v=")[1]},LightboxPlayer.prototype.play=function(e){var videoId=this.getYoutubeId();videoId&&(this.lightbox.open(videoId),e.preventDefault())},LightboxPlayer}();document.addEventListener("DOMContentLoaded",function(){var lightbox=new Lightbox("lightbox","lightbox-video")});